<app-header [teamColor]="teamColor"> </app-header>

<div class="section py-5">
  <div class="container">
    <div class="row d-flex justify-content-center">
      <div class="col-md-7 col-12" *ngIf="dataSource.length > 0">
        <div class="card">
          <div class="card-body">
            <p class="card-title d-flex align-items-center sub-title">
              <ngx-skeleton-loader *ngIf="isLoading" appearance="circle" [theme]="{ 'height': '24px', 'width': '24px' }" class="me-2"></ngx-skeleton-loader>
              <img *ngIf="!isLoading" [src]="standingsData.league.logo" alt="" width="24" class="me-2">
              <ngx-skeleton-loader *ngIf="isLoading" [theme]="{ 'height': '24px', 'width': '150px', 'margin-top' : '8px' }"></ngx-skeleton-loader>
              <span *ngIf="!isLoading">{{ standingsData.league.name }}</span>
            </p>
              <table *ngIf="isLoading" class="mat-elevation-z8 w-100">
                <tr *ngFor="let i of [1,2,3,4,5,6,7]">
                  <td><ngx-skeleton-loader appearance="line" [theme]="{ width: '20px', height: '20px' }"></ngx-skeleton-loader></td>
                  <td>
                    <!-- <ngx-skeleton-loader appearance="circle" [theme]="{ width: '18px', height: '18px', 'margin-right': '5px' }"></ngx-skeleton-loader> -->
                    <ngx-skeleton-loader appearance="line" [theme]="{ width: '80px', height: '20px' }"></ngx-skeleton-loader>
                  </td>
                  <td><ngx-skeleton-loader appearance="line" [theme]="{ width: '30px', height: '20px' }"></ngx-skeleton-loader></td>
                  <td><ngx-skeleton-loader appearance="line" [theme]="{ width: '30px', height: '20px' }"></ngx-skeleton-loader></td>
                  <td><ngx-skeleton-loader appearance="line" [theme]="{ width: '30px', height: '20px' }"></ngx-skeleton-loader></td>
                  <td><ngx-skeleton-loader appearance="line" [theme]="{ width: '30px', height: '20px' }"></ngx-skeleton-loader></td>
                  <td><ngx-skeleton-loader appearance="line" [theme]="{ width: '50px', height: '20px' }"></ngx-skeleton-loader></td>
                  <td><ngx-skeleton-loader appearance="line" [theme]="{ width: '50px', height: '20px' }"></ngx-skeleton-loader></td>
                </tr>
              </table>
              <table *ngIf="!isLoading" mat-table [dataSource]="dataSource" class="mat-elevation-z8 w-100">
                <ng-container matColumnDef="No">
                  <th mat-header-cell *matHeaderCellDef> # </th>
                  <td mat-cell *matCellDef="let element" class="cursor-pointer" (click)="handleTeamDetail(element)"> {{element.position}} </td>
                </ng-container>

                <ng-container matColumnDef="Team">
                  <th mat-header-cell *matHeaderCellDef> Team </th>
                  <td mat-cell *matCellDef="let element" (click)="handleTeamDetail(element)">
                    <img [src]="element.team.logo" alt="" width="18" class="me-1">
                    <span [title]="element.team.name" class="cursor-pointer">{{element.team.name}}</span>
                  </td>
                </ng-container>

                <ng-container matColumnDef="MP">
                  <th mat-header-cell *matHeaderCellDef class="text-end"> MP </th>
                  <td mat-cell *matCellDef="let element" class="text-end cursor-pointer" (click)="handleTeamDetail(element)"> {{element.total.games}} </td>
                </ng-container>

                <ng-container matColumnDef="W">
                  <th mat-header-cell *matHeaderCellDef class="text-end"> W </th>
                  <td mat-cell *matCellDef="let element" class="text-end cursor-pointer" (click)="handleTeamDetail(element)"> {{element.total.wins}} </td>
                </ng-container>

                <ng-container matColumnDef="D">
                  <th mat-header-cell *matHeaderCellDef class="text-end"> D </th>
                  <td mat-cell *matCellDef="let element" class="text-end cursor-pointer" (click)="handleTeamDetail(element)"> {{element.total.draws}} </td>
                </ng-container>

                <ng-container matColumnDef="L">
                  <th mat-header-cell *matHeaderCellDef class="text-end"> L </th>
                  <td mat-cell *matCellDef="let element" class="text-end cursor-pointer" (click)="handleTeamDetail(element)"> {{element.total.loses}} </td>
                </ng-container>

                <ng-container matColumnDef="G">
                  <th mat-header-cell *matHeaderCellDef class="text-center"> +/- </th>
                  <td mat-cell *matCellDef="let element" class="text-center cursor-pointer" (click)="handleTeamDetail(element)"> {{element.total.scoredGoals}}-{{element.total.receivedGoals}} </td>
                </ng-container>

                <ng-container matColumnDef="Pts">
                  <th mat-header-cell *matHeaderCellDef class="text-end"> Pts </th>
                  <td mat-cell *matCellDef="let element" class="text-end cursor-pointer" (click)="handleTeamDetail(element)"> {{element.points}} </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
